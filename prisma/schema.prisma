// This is your Prisma schema file,
// learn more about it in the docs: https://pris.ly/d/prisma-schema

generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
}

model Company {
  id         Int         @id @default(autoincrement())
  name       String
  phone      String
  RentOffers RentOffer[]

  @@map("Companies")
}

model Vehicle {
  id           Int         @id @default(autoincrement())
  class        String
  make         String
  model        String
  transmission String
  engine_type  String
  body_type    String
  RentOffers   RentOffer[]

  @@map("Vehicles")
}

model Client {
  id          Int      @id @default(autoincrement())
  ssn         String
  name        String
  email       String
  password    String
  credit_card String
  createdAt   DateTime @default(now())
  updatedAt   DateTime @updatedAt()
  Rent        Rent[]

  @@map("Clients")
}

model Employee {
  id       Int    @id @default(autoincrement())
  name     String
  email    String
  password String

  @@map("Employees")
}

model RentOffer {
  id                 Int      @id @default(autoincrement())
  vehicle_id         Int
  company_id         Int
  price              Decimal
  deposit            Decimal
  min_driver_age     Int
  min_driver_licence Int
  createdAt          DateTime @default(now())
  updatedAt          DateTime @updatedAt()
  vehicle            Vehicle  @relation(fields: [vehicle_id], references: [id])
  company            Company  @relation(fields: [company_id], references: [id])
  Rent               Rent[]

  @@map("RentOffers")
}

model Rent {
  id        Int       @id @default(autoincrement())
  offer_id  Int
  client_id Int
  start     DateTime
  finish    DateTime
  fee       Decimal
  createdAt DateTime  @default(now())
  updatedAt DateTime  @updatedAt()
  client    Client    @relation(fields: [client_id], references: [id])
  offer     RentOffer @relation(fields: [offer_id], references: [id])
}
